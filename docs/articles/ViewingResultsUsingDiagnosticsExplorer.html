<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Viewing results using Diagnostics Explorer • CohortDiagnostics</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Viewing results using Diagnostics Explorer">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-dark" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">CohortDiagnostics</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.3.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/CreatingAStudyPackage.html">Creating a study package</a></li>
    <li><a class="dropdown-item" href="../articles/DatabaseModeInDiagnosticsExplorer.html">Database mode in Diagnostics Explorer</a></li>
    <li><a class="dropdown-item" href="../articles/RunningCohortDiagnostics.html">Running Cohort Diagnostics</a></li>
    <li><a class="dropdown-item" href="../articles/ViewingResultsUsingDiagnosticsExplorer.html">Viewing results using Diagnostics Explorer</a></li>
    <li><a class="dropdown-item" href="../articles/WhatIsCohortDiagnostics.html">What is Cohort Diagnostics?</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://ohdsi.github.io/Hades"><img src='https://ohdsi.github.io/Hades/images/hadesMini.png' width=80 height=17 style='vertical-align: top;'></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/OHDSI/CohortDiagnostics/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Viewing results using Diagnostics Explorer</h1>
                        <h4 data-toc-skip class="author">Gowtham
Rao</h4>
            
            <h4 data-toc-skip class="date">2024-09-30</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/OHDSI/CohortDiagnostics/blob/HEAD/vignettes/ViewingResultsUsingDiagnosticsExplorer.Rmd" class="external-link"><code>vignettes/ViewingResultsUsingDiagnosticsExplorer.Rmd</code></a></small>
      <div class="d-none name"><code>ViewingResultsUsingDiagnosticsExplorer.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="viewing-the-diagnostics">Viewing the diagnostics<a class="anchor" aria-label="anchor" href="#viewing-the-diagnostics"></a>
</h2>
<p>The Diagnostics Explorer shiny application is able to present the
results output of Cohort Diagnostics in either local mode (i.e. using
premerged file) or database mode (connected to postgres database
server). The Shiny app can be found <a href="https://github.com/OHDSI/CohortDiagnostics/tree/master/inst/shiny/DiagnosticsExplorer" class="external-link">here</a>.
Make sure to copy all files in the <code>DiagnosticsExplorer</code>
folder. When launching the application. You maybe asked to install
additional packages required by the app, such as shiny, shinydashboard,
shinyWidgets, DT, htmltools, scales, plotly, dplyr, purrr, tidyr,
ggiraph.</p>
<div class="float">
<img src="shiny.png" alt="The Diagnostics Explorer Shiny app"><div class="figcaption">The Diagnostics Explorer Shiny app</div>
</div>
<p>Note that each of the tabs on the left has an information icon.
Clicking on these icons will show additional information on each
diagnostic, how they were computed, and how they may be interpreted.</p>
</div>
<div class="section level2">
<h2 id="launching-diagnostics-explorer">Launching Diagnostics Explorer<a class="anchor" aria-label="anchor" href="#launching-diagnostics-explorer"></a>
</h2>
<ul>
<li>From R, launch the DiagnosticExplorer shiny application by calling
the ‘launchDiagnosticsExplorer()’ function of CohortDiagnostics.</li>
<li>From R-studio, you may start the project by clicking on the
‘DiagnosticsExplorer.Rproj’ in the shiny folder, then open the global.R
and press the ‘RunApp’ button. From R-server (shiny server), you will
need to copy all the files in the DiagnosticsExplorer shiny app into a
folder on the server. The server should automatically launch the
application (please talk to the shiny server administrator for your site
specific rules.)</li>
</ul>
</div>
<div class="section level2">
<h2 id="running-the-app-using-local-file-mode-sqlite-db-">Running the app using local file mode (Sqlite db).<a class="anchor" aria-label="anchor" href="#running-the-app-using-local-file-mode-sqlite-db-"></a>
</h2>
<p>Local mode is the most common mode to run the Shiny application. We
recommend that you convert all the csv files that are the precomputed
output of Cohort Diagnostics into an sqlite database file as follows</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/createMergedResultsFile.html">createMergedResultsFile</a></span><span class="op">(</span><span class="st">"C:/temp/allZipFiles"</span>, sqliteDbPath <span class="op">=</span> <span class="st">"MyCohortDiagnosticsResulst.sqlite"</span><span class="op">)</span></span></code></pre></div>
<p>.RData files enables faster load of the Shiny application. Once you
have converted your results data into an sqlite database file, you may
launch the Diagnostics Explorer app as follows:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/launchDiagnosticsExplorer.html">launchDiagnosticsExplorer</a></span><span class="op">(</span>sqliteDbPath <span class="op">=</span> <span class="st">"MyCohortDiagnosticsResulst.sqlite"</span><span class="op">)</span></span></code></pre></div>
<p>If running the application from a R-studio environment, please make
sure the sqlite file is in a folder called ‘data’.</p>
</div>
<div class="section level2">
<h2 id="publishing-to-posit-connect-or-shinyapps-io">Publishing to Posit Connect or shinyapps.io<a class="anchor" aria-label="anchor" href="#publishing-to-posit-connect-or-shinyapps-io"></a>
</h2>
<p>Publishing the shiny app to a shared posit connect source can be
achieved by first setting up credentials for <a href="https://docs.posit.co/connect/user/connecting/" class="external-link">your server</a>.
You will need to contact your internal administrator for publishing and
access rights.</p>
<p>Alternatively, you can use the <a href="https://www.shinyapps.io/admin/#/signup" class="external-link">shinyapps.io</a> service,
which provides some limited free usage for hosting your
applications.</p>
<p>Firstly, it is advised that you update to the latest version of OHDSI
shiny modules with:</p>
<pre><code><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_packages</span><span class="op">(</span><span class="st">'OHDSI/OhdsiShinyModules'</span><span class="op">)</span></span></code></pre>
<p>This will update the dependencies for your shiny app.</p>
<p>Following this you will need a copyable resource for your shiny app.
This can be achieved by launching the <code>DiagnosticsExplorer</code>
with publishable options</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/launchDiagnosticsExplorer.html">launchDiagnosticsExplorer</a></span><span class="op">(</span></span>
<span>  sqliteDbPath <span class="op">=</span> <span class="st">"MyCohortDiagnosticsResulst.sqlite"</span>,</span>
<span>  makePublishable <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  publishDir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"MyStudyDiagnosticsExplorer"</span><span class="op">)</span>,</span>
<span>  overwritePublishDir <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>This will create a shiny app folder
<code>"MyStudyDiagnosticsExplorer"</code> in your R working directory.
The above will also overwrite the existing application folder and copy
your sqlite file in to it. Following this, the shiny window should load
and show a “publsh” button.</p>
<div class="float">
<img src="publish.png" alt="Publish button"><div class="figcaption">Publish button</div>
</div>
<p>After this you can follow the RStudio prompts to upload to your
rsconnect/posit connect or shinyapps.io server.</p>
</div>
<div class="section level2">
<h2 id="sharing-a-zipped-copy-of-your-shiny-app">Sharing a zipped copy of your shiny app<a class="anchor" aria-label="anchor" href="#sharing-a-zipped-copy-of-your-shiny-app"></a>
</h2>
<p>To automatically create a zip archive containing the
<code>DiagnosticsExplorer</code> shiny application for deployment on
shared environments, such as data.ohdsi.org, run the function
<code>createDiagnosticsExplorerZip</code>:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/createDiagnosticsExplorerZip.html">createDiagnosticsExplorerZip</a></span><span class="op">(</span>outputZipfile <span class="op">=</span> <span class="st">"MyCdProject.zip"</span>, sqliteDbPath <span class="op">=</span> <span class="st">"MyCohortDiagnosticsResulst.sqlite"</span><span class="op">)</span></span></code></pre></div>
<p>This archive will contain a fully executable shiny application.</p>
</div>
<div class="section level2">
<h2 id="running-the-app-using-database-mode">Running the app using Database mode<a class="anchor" aria-label="anchor" href="#running-the-app-using-database-mode"></a>
</h2>
<p>We recommend the use of a database system, when file size of the
cohort diagnostics output becomes large e.g. &gt; 100mb, as using the
sqlite database may leading sluggish performance. Currently, only
postgres server is fully supported, though platforms with
DatabaseConnector support may work (currently experimental). See
Vignette on Database mode on how to load data into remote database.</p>
</div>
<div class="section level2">
<h2 id="running-over-the-network">Running over the network<a class="anchor" aria-label="anchor" href="#running-over-the-network"></a>
</h2>
<p>If you want to run the application over the network then set
<code>runOverNetwork = TRUE</code> while launching the application using
‘launchDiagnosticsExplorer()’. This will make the shiny application
available over your network (i.e. within your networks firewall).</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jamie Gilbert, Gowtham Rao, Martijn Schuemie, Patrick Ryan, James Weaver.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
